1
00:00:00,399 --> 00:00:05,680
hi guys this is roy snow

2
00:00:02,399 --> 00:00:09,120
last time we created the title screen

3
00:00:05,680 --> 00:00:11,519
so now we have this simple looking title

4
00:00:09,120 --> 00:00:11,519
screen

5
00:00:12,000 --> 00:00:17,760
and in this video we will implement

6
00:00:14,559 --> 00:00:21,680
player life let's start

7
00:00:17,760 --> 00:00:24,080
i have created these heart sprites

8
00:00:21,680 --> 00:00:26,240
so there are three images

9
00:00:24,080 --> 00:00:29,039
so blank heart and

10
00:00:26,240 --> 00:00:31,830
through heart and half heart

11
00:00:29,039 --> 00:00:33,120
so i'm gonna copy these images to

12
00:00:31,830 --> 00:00:35,040
[Music]

13
00:00:33,120 --> 00:00:38,399
okay

14
00:00:35,040 --> 00:00:38,399
this object package

15
00:00:40,239 --> 00:00:45,360
okay then we create another

16
00:00:43,040 --> 00:00:47,600
object graph

17
00:00:45,360 --> 00:00:47,600
so

18
00:00:48,640 --> 00:00:53,600
another class

19
00:00:50,000 --> 00:00:55,920
and i'm gonna name this obj

20
00:00:53,600 --> 00:00:55,920
heart

21
00:00:56,399 --> 00:01:02,399
and this graph also extends

22
00:01:00,160 --> 00:01:06,159
the object

23
00:01:02,399 --> 00:01:10,320
and okay i think we can borrow

24
00:01:06,159 --> 00:01:12,400
the format from as object graph

25
00:01:10,320 --> 00:01:14,479
so let's copy and

26
00:01:12,400 --> 00:01:16,479
paste

27
00:01:14,479 --> 00:01:18,320
and change the name

28
00:01:16,479 --> 00:01:20,240
heart

29
00:01:18,320 --> 00:01:23,600
heart

30
00:01:20,240 --> 00:01:26,960
and okay so here so unlike

31
00:01:23,600 --> 00:01:30,640
other objects this heart class has three

32
00:01:26,960 --> 00:01:34,000
images so blank half and full

33
00:01:30,640 --> 00:01:37,759
so let's open this super object

34
00:01:34,000 --> 00:01:41,600
and add two more buffered image here so

35
00:01:37,759 --> 00:01:44,000
image two and the image three

36
00:01:41,600 --> 00:01:44,000
note

37
00:01:44,159 --> 00:01:48,240
image

38
00:01:45,680 --> 00:01:48,240
image2

39
00:01:48,399 --> 00:01:52,840
so now we can read three images here

40
00:01:51,759 --> 00:01:55,920
so uh

41
00:01:52,840 --> 00:01:58,799
copy and paste

42
00:01:55,920 --> 00:02:01,759
and image two image three

43
00:01:58,799 --> 00:02:04,159
and okay so first one is

44
00:02:01,759 --> 00:02:04,159
hot

45
00:02:04,560 --> 00:02:10,080
and the second one is hot

46
00:02:08,800 --> 00:02:12,000
half

47
00:02:10,080 --> 00:02:13,440
and hot

48
00:02:12,000 --> 00:02:18,080
wrong

49
00:02:13,440 --> 00:02:18,080
and then we're gonna scale them so

50
00:02:18,640 --> 00:02:24,959
image two and the image

51
00:02:20,840 --> 00:02:26,080
three okay so yeah this class is done

52
00:02:24,959 --> 00:02:29,200
for now

53
00:02:26,080 --> 00:02:30,800
now go to the entity class

54
00:02:29,200 --> 00:02:34,879
and

55
00:02:30,800 --> 00:02:37,840
add two integer variables

56
00:02:34,879 --> 00:02:37,840
kerala

57
00:02:40,640 --> 00:02:43,440
first one is

58
00:02:43,680 --> 00:02:46,959
max life

59
00:02:47,440 --> 00:02:50,560
and

60
00:02:48,800 --> 00:02:52,959
life

61
00:02:50,560 --> 00:02:55,519
these two integers will be shared by

62
00:02:52,959 --> 00:02:57,440
player and monsters

63
00:02:55,519 --> 00:02:59,360
ok then open

64
00:02:57,440 --> 00:03:01,040
the player class

65
00:02:59,360 --> 00:03:05,360
and

66
00:03:01,040 --> 00:03:08,959
we set players life value

67
00:03:05,360 --> 00:03:11,440
probably here inside of this set default

68
00:03:08,959 --> 00:03:11,440
values

69
00:03:13,840 --> 00:03:19,040
layer

70
00:03:15,920 --> 00:03:22,080
state of

71
00:03:19,040 --> 00:03:24,720
so first max drive

72
00:03:22,080 --> 00:03:25,920
so you can choose any number here

73
00:03:24,720 --> 00:03:27,200
basically

74
00:03:25,920 --> 00:03:30,400
and

75
00:03:27,200 --> 00:03:30,400
i'm gonna choose six

76
00:03:31,599 --> 00:03:37,680
and life

77
00:03:33,599 --> 00:03:41,040
equal so default is max life

78
00:03:37,680 --> 00:03:42,720
so this will be players current life

79
00:03:41,040 --> 00:03:46,000
and in this game

80
00:03:42,720 --> 00:03:48,400
one life means half heart and the two

81
00:03:46,000 --> 00:03:50,640
lives mean full heart

82
00:03:48,400 --> 00:03:53,519
so six lives mean

83
00:03:50,640 --> 00:03:54,640
three hearts it might be a bit confusing

84
00:03:53,519 --> 00:03:57,840
at first

85
00:03:54,640 --> 00:04:01,439
but please remember this basic concept

86
00:03:57,840 --> 00:04:03,680
so two lives equals one heart

87
00:04:01,439 --> 00:04:05,360
okay now go to the

88
00:04:03,680 --> 00:04:08,159
ui class

89
00:04:05,360 --> 00:04:09,439
and here we will display player life on

90
00:04:08,159 --> 00:04:13,200
the screen

91
00:04:09,439 --> 00:04:14,480
so first we need those hard images so we

92
00:04:13,200 --> 00:04:17,440
prepare

93
00:04:14,480 --> 00:04:20,079
buffered images for that

94
00:04:17,440 --> 00:04:21,919
upward image

95
00:04:20,079 --> 00:04:23,040
heart

96
00:04:21,919 --> 00:04:24,400
full

97
00:04:23,040 --> 00:04:26,000
heart

98
00:04:24,400 --> 00:04:27,600
half

99
00:04:26,000 --> 00:04:29,919
heart

100
00:04:27,600 --> 00:04:31,360
blank

101
00:04:29,919 --> 00:04:34,080
then we get

102
00:04:31,360 --> 00:04:37,199
these images

103
00:04:34,080 --> 00:04:37,199
somewhere around here

104
00:04:37,360 --> 00:04:40,560
create

105
00:04:38,960 --> 00:04:43,560
hud

106
00:04:40,560 --> 00:04:43,560
object

107
00:04:44,240 --> 00:04:48,160
super object

108
00:04:46,960 --> 00:04:52,240
part

109
00:04:48,160 --> 00:04:54,560
equal new obj

110
00:04:52,240 --> 00:04:54,560
heart

111
00:04:54,880 --> 00:04:58,240
and past gp

112
00:05:04,080 --> 00:05:08,720
okay and first heart

113
00:05:07,919 --> 00:05:11,360
who

114
00:05:08,720 --> 00:05:13,199
we call heart dot

115
00:05:11,360 --> 00:05:14,400
image

116
00:05:13,199 --> 00:05:15,440
heart

117
00:05:14,400 --> 00:05:16,560
half

118
00:05:15,440 --> 00:05:20,000
a goal

119
00:05:16,560 --> 00:05:21,360
heart dot image 2

120
00:05:20,000 --> 00:05:24,360
heart

121
00:05:21,360 --> 00:05:24,360
lung

122
00:05:24,720 --> 00:05:28,160
image 3

123
00:05:26,800 --> 00:05:31,440
like this

124
00:05:28,160 --> 00:05:33,600
and next we draw these hard images on

125
00:05:31,440 --> 00:05:34,400
the screen so

126
00:05:33,600 --> 00:05:38,400
ok

127
00:05:34,400 --> 00:05:41,199
so inside of this play state

128
00:05:38,400 --> 00:05:42,800
we call a method

129
00:05:41,199 --> 00:05:47,039
so draw

130
00:05:42,800 --> 00:05:47,039
a player life or something

131
00:05:47,199 --> 00:05:53,280
and i'm gonna add this method

132
00:05:49,840 --> 00:05:54,639
in this polled state and this dialog

133
00:05:53,280 --> 00:05:57,600
state too

134
00:05:54,639 --> 00:06:00,479
so player life still displayed in these

135
00:05:57,600 --> 00:06:03,280
screens but it's up to you if you want

136
00:06:00,479 --> 00:06:04,560
to hide player life during the game is

137
00:06:03,280 --> 00:06:07,360
paused then

138
00:06:04,560 --> 00:06:11,120
you don't need to add this one

139
00:06:07,360 --> 00:06:11,120
and we create this method

140
00:06:11,280 --> 00:06:16,160
so public void draw

141
00:06:14,639 --> 00:06:19,160
player

142
00:06:16,160 --> 00:06:19,160
life

143
00:06:22,560 --> 00:06:27,440
and first we decide where to display the

144
00:06:25,919 --> 00:06:29,840
heart image

145
00:06:27,440 --> 00:06:30,880
and i want to display somewhere around

146
00:06:29,840 --> 00:06:32,400
here

147
00:06:30,880 --> 00:06:35,280
so

148
00:06:32,400 --> 00:06:37,120
first fix call

149
00:06:35,280 --> 00:06:38,479
gp dot type

150
00:06:37,120 --> 00:06:40,160
size

151
00:06:38,479 --> 00:06:41,600
like half

152
00:06:40,160 --> 00:06:43,919
half tile

153
00:06:41,600 --> 00:06:43,919
and

154
00:06:47,680 --> 00:06:52,319
why it's also half tile

155
00:06:50,000 --> 00:06:55,440
this is the starting point

156
00:06:52,319 --> 00:06:58,800
so i mean we are drawing multiple hearts

157
00:06:55,440 --> 00:07:00,080
so if players max life is six we draw

158
00:06:58,800 --> 00:07:00,880
three hearts

159
00:07:00,080 --> 00:07:03,759
and

160
00:07:00,880 --> 00:07:05,599
we handle this drawing by creating a

161
00:07:03,759 --> 00:07:11,199
while loop

162
00:07:05,599 --> 00:07:13,199
so first we create an integer into i

163
00:07:11,199 --> 00:07:16,560
start from zero

164
00:07:13,199 --> 00:07:17,680
then we create a while loop

165
00:07:16,560 --> 00:07:18,560
while

166
00:07:17,680 --> 00:07:23,039
i

167
00:07:18,560 --> 00:07:24,160
is the sum gp dot player dot max

168
00:07:23,039 --> 00:07:27,360
life

169
00:07:24,160 --> 00:07:27,360
divided by 2

170
00:07:28,240 --> 00:07:31,440
then

171
00:07:29,199 --> 00:07:33,919
g2 dot draw

172
00:07:31,440 --> 00:07:33,919
image

173
00:07:34,800 --> 00:07:38,960
heart

174
00:07:36,479 --> 00:07:40,000
blank

175
00:07:38,960 --> 00:07:43,039
x

176
00:07:40,000 --> 00:07:43,039
white no

177
00:07:43,599 --> 00:07:47,599
then

178
00:07:45,360 --> 00:07:50,240
i plus plus

179
00:07:47,599 --> 00:07:51,680
and also

180
00:07:50,240 --> 00:07:54,240
we increase

181
00:07:51,680 --> 00:07:54,240
the x

182
00:07:54,319 --> 00:07:56,800
by

183
00:07:55,440 --> 00:07:59,800
type

184
00:07:56,800 --> 00:07:59,800
size

185
00:08:00,800 --> 00:08:05,440
like this

186
00:08:02,000 --> 00:08:08,240
so first we draw the blank heart image

187
00:08:05,440 --> 00:08:09,280
so according to the players current max

188
00:08:08,240 --> 00:08:12,319
drive

189
00:08:09,280 --> 00:08:15,120
so yeah remember two lives mean one

190
00:08:12,319 --> 00:08:17,039
heart so that's why we divide this max

191
00:08:15,120 --> 00:08:19,120
life by two

192
00:08:17,039 --> 00:08:23,759
and after drawing a heart

193
00:08:19,120 --> 00:08:27,520
we increases to i and x by tile size

194
00:08:23,759 --> 00:08:29,120
so the next image will be displayed

195
00:08:27,520 --> 00:08:32,639
on the right

196
00:08:29,120 --> 00:08:32,639
yeah so let's check this

197
00:08:35,200 --> 00:08:38,839
oops

198
00:08:36,880 --> 00:08:41,919
wow it's so small

199
00:08:38,839 --> 00:08:44,479
why maybe something went wrong in

200
00:08:41,919 --> 00:08:44,479
skating

201
00:08:45,440 --> 00:08:48,640
ah yeah okay

202
00:08:47,279 --> 00:08:53,880
um

203
00:08:48,640 --> 00:08:53,880
we needed to get the scaled image

204
00:08:54,240 --> 00:08:59,839
yeah sorry about that this is

205
00:08:56,480 --> 00:08:59,839
this was my mistake so

206
00:09:00,720 --> 00:09:05,440
now it should work

207
00:09:03,120 --> 00:09:06,839
check again

208
00:09:05,440 --> 00:09:10,080
yeah okay

209
00:09:06,839 --> 00:09:13,279
hmm so three blank hot images are now

210
00:09:10,080 --> 00:09:16,320
displayed so basically we have displayed

211
00:09:13,279 --> 00:09:19,120
the player's max life here

212
00:09:16,320 --> 00:09:21,680
and now we will display the player's

213
00:09:19,120 --> 00:09:24,160
current life

214
00:09:21,680 --> 00:09:26,240
draw

215
00:09:24,160 --> 00:09:27,600
blank

216
00:09:26,240 --> 00:09:32,640
part

217
00:09:27,600 --> 00:09:34,880
okay first let's reset these values

218
00:09:32,640 --> 00:09:34,880
so

219
00:09:35,040 --> 00:09:37,839
reset

220
00:09:42,480 --> 00:09:46,000
draw

221
00:09:44,320 --> 00:09:50,480
current

222
00:09:46,000 --> 00:09:53,600
life okay let me change this draw

223
00:09:50,480 --> 00:09:53,600
marks life

224
00:09:54,320 --> 00:10:00,880
now we draw not blank heart but

225
00:09:57,760 --> 00:10:02,880
half heart or full heart images

226
00:10:00,880 --> 00:10:05,399
so while

227
00:10:02,880 --> 00:10:06,959
i

228
00:10:05,399 --> 00:10:08,560
gp.player

229
00:10:06,959 --> 00:10:11,680
dot live

230
00:10:08,560 --> 00:10:15,680
so this time the ranks is set by not max

231
00:10:11,680 --> 00:10:16,800
life but the current player life g2 dot

232
00:10:15,680 --> 00:10:19,120
draw

233
00:10:16,800 --> 00:10:21,200
image

234
00:10:19,120 --> 00:10:22,640
heart

235
00:10:21,200 --> 00:10:24,560
half

236
00:10:22,640 --> 00:10:26,240
and x white

237
00:10:24,560 --> 00:10:27,200
no

238
00:10:26,240 --> 00:10:29,120
so

239
00:10:27,200 --> 00:10:31,839
if this i

240
00:10:29,120 --> 00:10:35,360
is less than the current player life

241
00:10:31,839 --> 00:10:36,240
first we draw a half heart

242
00:10:35,360 --> 00:10:39,279
then

243
00:10:36,240 --> 00:10:42,000
increase this i

244
00:10:39,279 --> 00:10:43,279
then we check again

245
00:10:42,000 --> 00:10:45,600
if

246
00:10:43,279 --> 00:10:48,600
i is less than

247
00:10:45,600 --> 00:10:48,600
dp.player.life

248
00:10:51,839 --> 00:10:55,440
then this time we draw

249
00:10:56,959 --> 00:10:59,959
hot

250
00:11:04,160 --> 00:11:08,640
so if this increased i

251
00:11:06,720 --> 00:11:09,600
is still less than the current player

252
00:11:08,640 --> 00:11:11,120
life

253
00:11:09,600 --> 00:11:13,040
we draw a

254
00:11:11,120 --> 00:11:16,560
full heart

255
00:11:13,040 --> 00:11:17,920
and after that we increase this eye

256
00:11:16,560 --> 00:11:18,959
again

257
00:11:17,920 --> 00:11:22,959
and

258
00:11:18,959 --> 00:11:22,959
also increase this x

259
00:11:23,279 --> 00:11:28,440
tile size

260
00:11:25,440 --> 00:11:28,440
oops

261
00:11:28,640 --> 00:11:32,320
size

262
00:11:30,079 --> 00:11:33,600
so if this condition is matched

263
00:11:32,320 --> 00:11:35,839
basically we

264
00:11:33,600 --> 00:11:38,320
replace this half heart

265
00:11:35,839 --> 00:11:40,160
with this full heart

266
00:11:38,320 --> 00:11:42,560
and after that we

267
00:11:40,160 --> 00:11:47,600
go to the next heart

268
00:11:42,560 --> 00:11:47,600
yeah that's how it works so let's check

269
00:11:51,120 --> 00:11:55,519
okay so now

270
00:11:52,480 --> 00:11:59,120
three full hearts are displayed because

271
00:11:55,519 --> 00:12:01,360
player is currently at his max life

272
00:11:59,120 --> 00:12:02,560
but if we change the player's current

273
00:12:01,360 --> 00:12:04,160
life

274
00:12:02,560 --> 00:12:05,839
okay so

275
00:12:04,160 --> 00:12:07,839
player

276
00:12:05,839 --> 00:12:08,800
life

277
00:12:07,839 --> 00:12:11,800
equal

278
00:12:08,800 --> 00:12:11,800
5

279
00:12:13,920 --> 00:12:17,760
then

280
00:12:14,800 --> 00:12:19,680
so player has only one two three four

281
00:12:17,760 --> 00:12:22,320
five lives

282
00:12:19,680 --> 00:12:22,320
if it's two

283
00:12:23,360 --> 00:12:25,839
like this

284
00:12:29,040 --> 00:12:32,160
yeah so that's how we display player

285
00:12:31,279 --> 00:12:34,480
life

286
00:12:32,160 --> 00:12:36,160
and next we create an

287
00:12:34,480 --> 00:12:39,920
event class

288
00:12:36,160 --> 00:12:43,200
and implement some sample events so we

289
00:12:39,920 --> 00:12:44,800
can give some damage to player

290
00:12:43,200 --> 00:12:47,330
and also

291
00:12:44,800 --> 00:12:57,120
recover his life

292
00:12:47,330 --> 00:12:59,200
[Music]

293
00:12:57,120 --> 00:12:59,200
you

