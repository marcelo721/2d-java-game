1
00:00:00,480 --> 00:00:03,600
yeah so that's how we display player

2
00:00:02,639 --> 00:00:07,200
life

3
00:00:03,600 --> 00:00:09,040
and next we create an event class

4
00:00:07,200 --> 00:00:10,320
so let's create a

5
00:00:09,040 --> 00:00:12,559
new class

6
00:00:10,320 --> 00:00:14,639
inside of this main package let's create

7
00:00:12,559 --> 00:00:17,359
a new class

8
00:00:14,639 --> 00:00:19,840
and i'm gonna name this event

9
00:00:17,359 --> 00:00:19,840
handra

10
00:00:20,240 --> 00:00:24,800
this graph also use game panel

11
00:00:23,039 --> 00:00:26,720
gp

12
00:00:24,800 --> 00:00:28,000
and constructor

13
00:00:26,720 --> 00:00:29,279
public

14
00:00:28,000 --> 00:00:30,960
event

15
00:00:29,279 --> 00:00:31,840
tundra

16
00:00:30,960 --> 00:00:34,399
game

17
00:00:31,840 --> 00:00:36,079
panel jp

18
00:00:34,399 --> 00:00:37,120
this

19
00:00:36,079 --> 00:00:40,079
gp

20
00:00:37,120 --> 00:00:40,079
equal gp

21
00:00:40,160 --> 00:00:46,559
alright and i'll go to this game

22
00:00:42,840 --> 00:00:47,760
panel and instantiate this class

23
00:00:46,559 --> 00:00:50,320
so

24
00:00:47,760 --> 00:00:52,000
somewhere around here

25
00:00:50,320 --> 00:00:53,520
a public

26
00:00:52,000 --> 00:00:55,680
event

27
00:00:53,520 --> 00:00:56,800
hundred

28
00:00:55,680 --> 00:00:59,800
e

29
00:00:56,800 --> 00:00:59,800
hundred

30
00:01:03,199 --> 00:01:06,159
and passing this

31
00:01:08,799 --> 00:01:12,560
i think there are several ways to

32
00:01:11,040 --> 00:01:16,159
trigger event

33
00:01:12,560 --> 00:01:19,439
and this time we handle it by creating

34
00:01:16,159 --> 00:01:21,680
another rectangle

35
00:01:19,439 --> 00:01:24,799
next tango

36
00:01:21,680 --> 00:01:28,240
i'm gonna name this event

37
00:01:24,799 --> 00:01:30,400
predict and also we

38
00:01:28,240 --> 00:01:33,119
set this

39
00:01:30,400 --> 00:01:37,479
event like

40
00:01:33,119 --> 00:01:37,479
default x and y

41
00:01:44,720 --> 00:01:50,159
and instantiate it in the constructor

42
00:01:49,360 --> 00:01:51,680
so

43
00:01:50,159 --> 00:01:52,720
event

44
00:01:51,680 --> 00:01:54,720
select

45
00:01:52,720 --> 00:01:57,520
equal new

46
00:01:54,720 --> 00:01:57,520
rectangle

47
00:01:58,240 --> 00:02:03,439
and okay so event

48
00:02:00,960 --> 00:02:04,479
left dot x

49
00:02:03,439 --> 00:02:07,840
so

50
00:02:04,479 --> 00:02:11,520
you can choose any size but i choose a

51
00:02:07,840 --> 00:02:15,360
very small size for this so it will be

52
00:02:11,520 --> 00:02:18,640
two pixels by two pixels rectangle

53
00:02:15,360 --> 00:02:20,480
and place it at the center of the tile

54
00:02:18,640 --> 00:02:22,640
so the parameter

55
00:02:20,480 --> 00:02:26,720
will be something like this

56
00:02:22,640 --> 00:02:26,720
x equal 23

57
00:02:27,360 --> 00:02:32,560
select that y equal 23

58
00:02:34,080 --> 00:02:37,840
with

59
00:02:34,959 --> 00:02:37,840
equal to

60
00:02:39,920 --> 00:02:43,280
height call 2

61
00:02:43,440 --> 00:02:48,200
and also set the default

62
00:03:03,360 --> 00:03:07,200
dot y

63
00:03:05,519 --> 00:03:09,519
and

64
00:03:07,200 --> 00:03:09,519
this

65
00:03:10,239 --> 00:03:15,440
yeah like this

66
00:03:11,760 --> 00:03:19,280
the reason i chose it small like this

67
00:03:15,440 --> 00:03:22,959
is for example if the rectangle is as

68
00:03:19,280 --> 00:03:26,400
large as a tile size the event gets

69
00:03:22,959 --> 00:03:27,200
triggered when player's solid area hits

70
00:03:26,400 --> 00:03:30,080
the

71
00:03:27,200 --> 00:03:33,040
edge of the tile like somewhere around

72
00:03:30,080 --> 00:03:36,080
here but i personally want the event

73
00:03:33,040 --> 00:03:38,319
gets triggered when player moves a bit

74
00:03:36,080 --> 00:03:39,920
further into the tile

75
00:03:38,319 --> 00:03:42,799
like this

76
00:03:39,920 --> 00:03:45,120
that's why i set the trigger point at

77
00:03:42,799 --> 00:03:47,840
the middle of the tile

78
00:03:45,120 --> 00:03:50,159
and next we create our method

79
00:03:47,840 --> 00:03:52,000
public void

80
00:03:50,159 --> 00:03:54,400
check

81
00:03:52,000 --> 00:03:54,400
event

82
00:03:54,799 --> 00:03:59,519
and create another method

83
00:03:57,680 --> 00:04:03,000
public

84
00:03:59,519 --> 00:04:03,000
boolean not available

85
00:04:14,080 --> 00:04:17,040
string

86
00:04:15,599 --> 00:04:18,919
and

87
00:04:17,040 --> 00:04:23,759
click

88
00:04:18,919 --> 00:04:23,759
direction required direction

89
00:04:25,840 --> 00:04:30,960
and okay so volume

90
00:04:28,720 --> 00:04:32,720
hit

91
00:04:30,960 --> 00:04:34,240
first

92
00:04:32,720 --> 00:04:36,560
and return

93
00:04:34,240 --> 00:04:36,560
hit

94
00:04:38,960 --> 00:04:45,520
so this is the method that checks event

95
00:04:42,000 --> 00:04:47,680
collision and it works pretty similar to

96
00:04:45,520 --> 00:04:52,040
object collision

97
00:04:47,680 --> 00:04:52,040
let me type first gp.player.solid

98
00:04:52,639 --> 00:04:57,040
area dot x equals

99
00:05:06,800 --> 00:05:10,600
dot x

100
00:05:10,960 --> 00:05:15,680
copy and paste

101
00:05:14,400 --> 00:05:17,759
y

102
00:05:15,680 --> 00:05:19,680
and y

103
00:05:17,759 --> 00:05:21,919
and y

104
00:05:19,680 --> 00:05:23,360
and then we get event rectangles

105
00:05:21,919 --> 00:05:24,560
position two

106
00:05:23,360 --> 00:05:27,680
event

107
00:05:24,560 --> 00:05:29,280
select dot x equal

108
00:05:27,680 --> 00:05:30,240
event

109
00:05:29,280 --> 00:05:32,080
call

110
00:05:30,240 --> 00:05:34,240
times repeater

111
00:05:32,080 --> 00:05:35,360
type size

112
00:05:34,240 --> 00:05:36,720
plus

113
00:05:35,360 --> 00:05:37,680
event

114
00:05:36,720 --> 00:05:38,880
select

115
00:05:37,680 --> 00:05:41,440
x

116
00:05:38,880 --> 00:05:44,160
so basically this means this event

117
00:05:41,440 --> 00:05:45,759
rectangles world x

118
00:05:44,160 --> 00:05:48,639
and okay so

119
00:05:45,759 --> 00:05:49,919
copy and paste

120
00:05:48,639 --> 00:05:52,560
y

121
00:05:49,919 --> 00:05:54,960
and this time this is

122
00:05:52,560 --> 00:05:54,960
love

123
00:05:55,120 --> 00:06:01,039
and the y

124
00:05:57,520 --> 00:06:04,240
and then we use uh intersex method again

125
00:06:01,039 --> 00:06:07,840
and check if player is colliding this

126
00:06:04,240 --> 00:06:11,919
event rectangle so if

127
00:06:07,840 --> 00:06:12,960
gp dot player dot so read

128
00:06:11,919 --> 00:06:14,319
area

129
00:06:12,960 --> 00:06:16,800
dot

130
00:06:14,319 --> 00:06:17,840
intersects

131
00:06:16,800 --> 00:06:20,840
event

132
00:06:17,840 --> 00:06:20,840
left

133
00:06:21,120 --> 00:06:23,680
them

134
00:06:22,160 --> 00:06:25,600
if

135
00:06:23,680 --> 00:06:26,720
gp.player

136
00:06:25,600 --> 00:06:28,560
that

137
00:06:26,720 --> 00:06:32,000
direction

138
00:06:28,560 --> 00:06:32,000
that equals

139
00:06:32,479 --> 00:06:35,680
like

140
00:06:33,600 --> 00:06:38,319
direction

141
00:06:35,680 --> 00:06:39,280
and or

142
00:06:38,319 --> 00:06:44,240
like

143
00:06:39,280 --> 00:06:44,240
direction that equals

144
00:06:44,800 --> 00:06:47,600
any

145
00:06:46,479 --> 00:06:48,720
then

146
00:06:47,600 --> 00:06:51,599
hit

147
00:06:48,720 --> 00:06:51,599
equal true

148
00:06:53,599 --> 00:06:57,360
so if collision is happening this

149
00:06:55,759 --> 00:06:59,680
returns true

150
00:06:57,360 --> 00:07:01,520
and the difference is we check the

151
00:06:59,680 --> 00:07:02,639
player's direction

152
00:07:01,520 --> 00:07:05,120
this time

153
00:07:02,639 --> 00:07:08,560
so you can choose either

154
00:07:05,120 --> 00:07:11,199
event happens only when player is facing

155
00:07:08,560 --> 00:07:14,240
a certain direction or

156
00:07:11,199 --> 00:07:17,039
it happens regardless

157
00:07:14,240 --> 00:07:20,319
and finally we reset the player and

158
00:07:17,039 --> 00:07:21,919
event rectangles x and y

159
00:07:20,319 --> 00:07:24,000
gp dot

160
00:07:21,919 --> 00:07:25,199
player dot

161
00:07:24,000 --> 00:07:28,080
solid

162
00:07:25,199 --> 00:07:32,319
area dot x

163
00:07:28,080 --> 00:07:35,520
equal gp dot gp.player dot solid

164
00:07:32,319 --> 00:07:35,520
area default x

165
00:07:36,720 --> 00:07:42,840
solid area dot y

166
00:07:39,520 --> 00:07:45,759
equal gp dot player dot

167
00:07:42,840 --> 00:07:47,840
solid area default y

168
00:07:45,759 --> 00:07:50,400
and also event

169
00:07:47,840 --> 00:07:51,360
select dot x

170
00:07:50,400 --> 00:07:52,479
call

171
00:07:51,360 --> 00:07:54,080
and

172
00:07:52,479 --> 00:07:57,280
select

173
00:07:54,080 --> 00:08:00,240
default x

174
00:07:57,280 --> 00:08:02,800
and select dot y

175
00:08:00,240 --> 00:08:04,400
equal event

176
00:08:02,800 --> 00:08:07,039
left

177
00:08:04,400 --> 00:08:10,000
default y

178
00:08:07,039 --> 00:08:13,759
yeah so as i said the mechanics is

179
00:08:10,000 --> 00:08:14,960
almost identical to the object collision

180
00:08:13,759 --> 00:08:17,280
so now

181
00:08:14,960 --> 00:08:18,720
we have this heat method

182
00:08:17,280 --> 00:08:22,240
we can pass

183
00:08:18,720 --> 00:08:23,840
these parameters from here

184
00:08:22,240 --> 00:08:26,479
so

185
00:08:23,840 --> 00:08:29,599
let's create a sample event which

186
00:08:26,479 --> 00:08:32,640
decreases player's life

187
00:08:29,599 --> 00:08:34,159
i'm gonna create a path around here

188
00:08:32,640 --> 00:08:36,320
time

189
00:08:34,159 --> 00:08:37,680
time

190
00:08:36,320 --> 00:08:41,360
okay

191
00:08:37,680 --> 00:08:44,240
and here i'm gonna place a damage pit

192
00:08:41,360 --> 00:08:45,839
so if player hit this tile then he

193
00:08:44,240 --> 00:08:50,480
receives damage

194
00:08:45,839 --> 00:08:53,279
so it's a column 27 and lao 16

195
00:08:50,480 --> 00:08:55,040
so we type like this

196
00:08:53,279 --> 00:08:57,279
if

197
00:08:55,040 --> 00:08:59,200
hit

198
00:08:57,279 --> 00:08:59,890
27

199
00:08:59,200 --> 00:09:01,120
16

200
00:08:59,890 --> 00:09:02,160
[Music]

201
00:09:01,120 --> 00:09:04,480
and

202
00:09:02,160 --> 00:09:04,480
right

203
00:09:04,880 --> 00:09:08,800
equal

204
00:09:05,839 --> 00:09:10,160
true

205
00:09:08,800 --> 00:09:11,519
then

206
00:09:10,160 --> 00:09:13,040
event

207
00:09:11,519 --> 00:09:15,839
happens

208
00:09:13,040 --> 00:09:18,800
we use this hit method as a condition of

209
00:09:15,839 --> 00:09:21,680
this boolean if statement

210
00:09:18,800 --> 00:09:22,720
so we pass column and log

211
00:09:21,680 --> 00:09:24,800
and

212
00:09:22,720 --> 00:09:28,000
require the direction

213
00:09:24,800 --> 00:09:31,120
and if it returns true

214
00:09:28,000 --> 00:09:34,720
then the event happens we can type the

215
00:09:31,120 --> 00:09:38,640
result here but then this method will be

216
00:09:34,720 --> 00:09:41,760
very long as we add more events so let's

217
00:09:38,640 --> 00:09:42,880
handle it in a separate method

218
00:09:41,760 --> 00:09:45,200
damage

219
00:09:42,880 --> 00:09:45,200
pit

220
00:09:48,240 --> 00:09:53,200
public void damage

221
00:09:51,600 --> 00:09:56,560
it

222
00:09:53,200 --> 00:09:59,680
and we receive one parameter here

223
00:09:56,560 --> 00:09:59,680
game state

224
00:10:01,680 --> 00:10:11,519
gp dot game state equal gain state

225
00:10:08,560 --> 00:10:13,200
then create whatever the result of this

226
00:10:11,519 --> 00:10:15,920
event

227
00:10:13,200 --> 00:10:17,279
gp dot ui dot

228
00:10:15,920 --> 00:10:18,720
current

229
00:10:17,279 --> 00:10:21,680
dialog

230
00:10:18,720 --> 00:10:26,560
we're going to display a text

231
00:10:21,680 --> 00:10:26,560
you fall into up pit

232
00:10:26,640 --> 00:10:32,160
and we're gonna decrease

233
00:10:29,360 --> 00:10:34,480
player life

234
00:10:32,160 --> 00:10:34,480
life

235
00:10:34,640 --> 00:10:39,760
like -1

236
00:10:37,519 --> 00:10:44,160
and since we want to display

237
00:10:39,760 --> 00:10:44,160
this text so we're going to pass

238
00:10:44,959 --> 00:10:50,800
dialogue state here

239
00:10:47,920 --> 00:10:53,040
let me change the format i think i like

240
00:10:50,800 --> 00:10:53,040
this

241
00:10:53,200 --> 00:10:57,600
format better

242
00:10:55,040 --> 00:11:00,640
okay so this event is done

243
00:10:57,600 --> 00:11:04,160
so let's call this check event method

244
00:11:00,640 --> 00:11:04,160
from the player graph

245
00:11:04,560 --> 00:11:12,399
so go to player and

246
00:11:08,399 --> 00:11:12,399
after this npc collision

247
00:11:13,600 --> 00:11:16,959
check

248
00:11:15,279 --> 00:11:19,040
event

249
00:11:16,959 --> 00:11:20,079
and gp dot

250
00:11:19,040 --> 00:11:21,360
e

251
00:11:20,079 --> 00:11:22,640
hundred

252
00:11:21,360 --> 00:11:24,320
dot

253
00:11:22,640 --> 00:11:29,240
check event

254
00:11:24,320 --> 00:11:29,240
and uh okay let me disable this

255
00:11:29,839 --> 00:11:34,720
so start from the maximum life

256
00:11:36,000 --> 00:11:39,279
okay

257
00:11:37,600 --> 00:11:43,200
let's go

258
00:11:39,279 --> 00:11:45,440
yeah you fall into a pit you lose one

259
00:11:43,200 --> 00:11:45,440
life

260
00:11:46,079 --> 00:11:50,160
yeah

261
00:11:47,680 --> 00:11:50,160
like this

262
00:11:51,760 --> 00:11:58,800
this is working fine but just giving him

263
00:11:55,279 --> 00:12:01,279
damage is a bit harsh so let's create a

264
00:11:58,800 --> 00:12:05,279
healing event too

265
00:12:01,279 --> 00:12:08,720
and this time we set an event so if you

266
00:12:05,279 --> 00:12:09,680
press enter key in front of this water

267
00:12:08,720 --> 00:12:12,000
pool

268
00:12:09,680 --> 00:12:15,360
you can recover your life

269
00:12:12,000 --> 00:12:17,760
so the event gets triggered only when

270
00:12:15,360 --> 00:12:21,839
you press enter key while you are

271
00:12:17,760 --> 00:12:25,839
touching the event rectangle so first

272
00:12:21,839 --> 00:12:25,839
create another event method

273
00:12:25,920 --> 00:12:29,519
public void

274
00:12:28,480 --> 00:12:30,880
hearing

275
00:12:29,519 --> 00:12:32,240
pool

276
00:12:30,880 --> 00:12:35,680
or something

277
00:12:32,240 --> 00:12:35,680
and get game state

278
00:12:36,240 --> 00:12:41,839
and this time we add one condition

279
00:12:39,519 --> 00:12:41,839
if

280
00:12:42,399 --> 00:12:49,200
key h dot enter pressed

281
00:12:46,480 --> 00:12:52,680
equal to

282
00:12:49,200 --> 00:12:52,680
then gp.game

283
00:12:54,480 --> 00:13:00,560
state

284
00:12:56,399 --> 00:13:03,920
and okay some direct text message

285
00:13:00,560 --> 00:13:06,560
current dialogue

286
00:13:03,920 --> 00:13:09,040
called you drink

287
00:13:06,560 --> 00:13:10,399
the water

288
00:13:09,040 --> 00:13:12,399
and

289
00:13:10,399 --> 00:13:13,760
lime break

290
00:13:12,399 --> 00:13:16,560
your

291
00:13:13,760 --> 00:13:19,560
life has been

292
00:13:16,560 --> 00:13:19,560
recovered

293
00:13:20,880 --> 00:13:23,680
and

294
00:13:21,920 --> 00:13:25,600
player live

295
00:13:23,680 --> 00:13:28,079
equal

296
00:13:25,600 --> 00:13:30,079
player dot max

297
00:13:28,079 --> 00:13:34,320
live

298
00:13:30,079 --> 00:13:36,000
gp dot key h dot enter

299
00:13:34,320 --> 00:13:37,120
rest

300
00:13:36,000 --> 00:13:39,519
equal

301
00:13:37,120 --> 00:13:43,600
false

302
00:13:39,519 --> 00:13:44,880
and finally we check this event

303
00:13:43,600 --> 00:13:46,240
if

304
00:13:44,880 --> 00:13:48,639
hit

305
00:13:46,240 --> 00:13:50,959
column 23 and

306
00:13:48,639 --> 00:13:53,519
row 12

307
00:13:50,959 --> 00:13:55,440
and the direction is up

308
00:13:53,519 --> 00:13:57,040
equal to

309
00:13:55,440 --> 00:14:01,440
then

310
00:13:57,040 --> 00:14:01,440
we call that the healing pool

311
00:14:01,600 --> 00:14:05,920
and the past

312
00:14:02,959 --> 00:14:05,920
dialogue state

313
00:14:07,120 --> 00:14:09,360
here

314
00:14:09,600 --> 00:14:14,839
like this okay

315
00:14:12,320 --> 00:14:18,240
so let's

316
00:14:14,839 --> 00:14:20,480
check okay first let's uh

317
00:14:18,240 --> 00:14:23,279
fall into the pit

318
00:14:20,480 --> 00:14:25,440
let's see damage receive damage receive

319
00:14:23,279 --> 00:14:28,079
damage okay

320
00:14:25,440 --> 00:14:29,600
let's drink the water so i'm gonna press

321
00:14:28,079 --> 00:14:30,800
enter

322
00:14:29,600 --> 00:14:32,800
oops

323
00:14:30,800 --> 00:14:34,720
nothing happens why

324
00:14:32,800 --> 00:14:37,120
what

325
00:14:34,720 --> 00:14:37,120
wait

326
00:14:41,040 --> 00:14:45,160
hmm this is weird

327
00:14:48,160 --> 00:14:51,440
what

328
00:14:49,120 --> 00:14:51,440
why

329
00:14:51,519 --> 00:14:54,480
okay

330
00:14:52,800 --> 00:14:56,240
i found out

331
00:14:54,480 --> 00:14:58,720
the reason

332
00:14:56,240 --> 00:15:00,959
so this is the reason

333
00:14:58,720 --> 00:15:04,399
sorry this is my mistake so if we are

334
00:15:00,959 --> 00:15:06,639
not touching any any pc then uh

335
00:15:04,399 --> 00:15:09,600
this automatically

336
00:15:06,639 --> 00:15:10,560
changes enterprise too far

337
00:15:09,600 --> 00:15:14,160
so

338
00:15:10,560 --> 00:15:17,040
i think we shouldn't put this here

339
00:15:14,160 --> 00:15:17,040
and okay

340
00:15:17,199 --> 00:15:22,079
and i think we should do it after

341
00:15:19,680 --> 00:15:25,199
everything was done so somewhere around

342
00:15:22,079 --> 00:15:28,800
here after we check npc and

343
00:15:25,199 --> 00:15:30,160
event then we can change this to first

344
00:15:28,800 --> 00:15:30,959
so

345
00:15:30,160 --> 00:15:33,120
we

346
00:15:30,959 --> 00:15:35,519
yeah this one this line tools this

347
00:15:33,120 --> 00:15:37,839
shouldn't be here yeah sorry about that

348
00:15:35,519 --> 00:15:39,199
so forget about this so you can delete

349
00:15:37,839 --> 00:15:41,839
this

350
00:15:39,199 --> 00:15:43,519
so we handle that line

351
00:15:41,839 --> 00:15:44,800
for here

352
00:15:43,519 --> 00:15:48,079
yeah so

353
00:15:44,800 --> 00:15:49,600
now this should work

354
00:15:48,079 --> 00:15:51,920
all right

355
00:15:49,600 --> 00:15:51,920
okay

356
00:15:53,519 --> 00:15:59,199
repeat and press enter

357
00:15:56,720 --> 00:16:01,920
okay so you drink the water your life

358
00:15:59,199 --> 00:16:04,920
has been recovered

359
00:16:01,920 --> 00:16:04,920
okay

360
00:16:08,720 --> 00:16:13,360
yeah working good

361
00:16:10,639 --> 00:16:14,399
so we have succeeded to implement two

362
00:16:13,360 --> 00:16:16,959
events

363
00:16:14,399 --> 00:16:20,000
and this time we only changed the player

364
00:16:16,959 --> 00:16:23,360
life but basically you can trigger any

365
00:16:20,000 --> 00:16:26,639
event for example when you hit a certain

366
00:16:23,360 --> 00:16:28,800
tile you can teleport to other location

367
00:16:26,639 --> 00:16:53,100
or stuff like that

368
00:16:28,800 --> 00:16:53,100
[Music]

369
00:16:55,550 --> 00:16:59,100
[Music]

370
00:17:09,869 --> 00:17:17,919
[Music]

371
00:17:14,799 --> 00:17:19,439
and i haven't decided what we will do

372
00:17:17,919 --> 00:17:22,400
next but

373
00:17:19,439 --> 00:17:23,600
probably it's about time to fight some

374
00:17:22,400 --> 00:17:27,039
monsters

375
00:17:23,600 --> 00:17:29,039
since you know player has life now

376
00:17:27,039 --> 00:17:32,410
anyway that's it for now thanks for

377
00:17:29,039 --> 00:17:44,260
watching and until next time

378
00:17:32,410 --> 00:17:44,260
[Music]

