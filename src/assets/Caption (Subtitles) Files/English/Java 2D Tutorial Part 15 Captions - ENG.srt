1
00:00:00,240 --> 00:00:06,160
hi guys this is roy snow

2
00:00:02,240 --> 00:00:08,720
last time we implemented an npg

3
00:00:06,160 --> 00:00:09,920
so now we are no longer alone in this

4
00:00:08,720 --> 00:00:12,639
world

5
00:00:09,920 --> 00:00:14,639
and in this video we will implement a

6
00:00:12,639 --> 00:00:17,920
dialogue system so

7
00:00:14,639 --> 00:00:20,240
we can talk to him okay first inside of

8
00:00:17,920 --> 00:00:24,480
this game panel

9
00:00:20,240 --> 00:00:27,519
so we're gonna set a new game state

10
00:00:24,480 --> 00:00:28,880
public final int

11
00:00:27,519 --> 00:00:30,880
dialog

12
00:00:28,880 --> 00:00:32,640
state

13
00:00:30,880 --> 00:00:34,239
three

14
00:00:32,640 --> 00:00:37,200
and then

15
00:00:34,239 --> 00:00:41,120
open this ui graph

16
00:00:37,200 --> 00:00:43,360
let's delete this and

17
00:00:41,120 --> 00:00:45,920
this

18
00:00:43,360 --> 00:00:47,120
i think we are not using this

19
00:00:45,920 --> 00:00:50,160
anymore

20
00:00:47,120 --> 00:00:53,600
i'm gonna delete this too

21
00:00:50,160 --> 00:00:55,280
all right and in this

22
00:00:53,600 --> 00:00:58,559
draw method

23
00:00:55,280 --> 00:00:59,840
we add another if statement

24
00:00:58,559 --> 00:01:02,719
this is

25
00:00:59,840 --> 00:01:04,479
place date

26
00:01:02,719 --> 00:01:06,640
and part

27
00:01:04,479 --> 00:01:09,439
state

28
00:01:06,640 --> 00:01:10,799
and now we create a

29
00:01:09,439 --> 00:01:13,439
dialog

30
00:01:10,799 --> 00:01:14,400
state

31
00:01:13,439 --> 00:01:19,360
if

32
00:01:14,400 --> 00:01:21,920
gp dot game state equal gp dot

33
00:01:19,360 --> 00:01:25,200
dialog state

34
00:01:21,920 --> 00:01:29,119
so if the game state is dialog we call a

35
00:01:25,200 --> 00:01:30,640
method and do some direct stuff

36
00:01:29,119 --> 00:01:31,840
like

37
00:01:30,640 --> 00:01:33,520
draw

38
00:01:31,840 --> 00:01:34,640
dialogue

39
00:01:33,520 --> 00:01:36,560
screen

40
00:01:34,640 --> 00:01:38,840
i think

41
00:01:36,560 --> 00:01:41,680
and we create this

42
00:01:38,840 --> 00:01:42,799
method public void

43
00:01:41,680 --> 00:01:45,439
draw

44
00:01:42,799 --> 00:01:45,439
dialogue

45
00:01:49,840 --> 00:01:54,799
okay first we create a

46
00:01:52,240 --> 00:01:56,560
dialog window so

47
00:01:54,799 --> 00:02:00,479
window

48
00:01:56,560 --> 00:02:03,040
now we want to display a dialog window

49
00:02:00,479 --> 00:02:05,520
somewhere around here

50
00:02:03,040 --> 00:02:06,799
and uh so what we're gonna do is

51
00:02:05,520 --> 00:02:10,560
basically

52
00:02:06,799 --> 00:02:11,440
drawing a big rectangle here

53
00:02:10,560 --> 00:02:13,840
so

54
00:02:11,440 --> 00:02:15,520
first we set some parameters for the

55
00:02:13,840 --> 00:02:17,920
window

56
00:02:15,520 --> 00:02:19,840
into x

57
00:02:17,920 --> 00:02:21,120
and y

58
00:02:19,840 --> 00:02:22,720
in

59
00:02:21,120 --> 00:02:23,680
with

60
00:02:22,720 --> 00:02:26,000
print

61
00:02:23,680 --> 00:02:26,000
height

62
00:02:26,080 --> 00:02:32,319
and okay so for the x

63
00:02:29,599 --> 00:02:34,840
so it's somewhere around here

64
00:02:32,319 --> 00:02:38,080
gp dot tiles

65
00:02:34,840 --> 00:02:41,040
size times two

66
00:02:38,080 --> 00:02:42,800
so two tiles to the right from the

67
00:02:41,040 --> 00:02:44,480
left edge

68
00:02:42,800 --> 00:02:46,480
and for y

69
00:02:44,480 --> 00:02:50,239
is

70
00:02:46,480 --> 00:02:52,480
one tile or maybe half tile to the

71
00:02:50,239 --> 00:02:54,879
bottom

72
00:02:52,480 --> 00:02:56,800
called gp dot tile

73
00:02:54,879 --> 00:02:59,200
size

74
00:02:56,800 --> 00:03:01,360
divided by two

75
00:02:59,200 --> 00:03:03,280
so and this is

76
00:03:01,360 --> 00:03:05,519
screen

77
00:03:03,280 --> 00:03:06,400
so we subtract

78
00:03:05,519 --> 00:03:08,080
so

79
00:03:06,400 --> 00:03:10,879
four tiles

80
00:03:08,080 --> 00:03:12,400
from the screen with

81
00:03:10,879 --> 00:03:15,040
size

82
00:03:12,400 --> 00:03:20,080
times four

83
00:03:15,040 --> 00:03:21,680
and the height is gp dot type

84
00:03:20,080 --> 00:03:24,480
size

85
00:03:21,680 --> 00:03:25,519
i don't know five tiles

86
00:03:24,480 --> 00:03:26,480
height

87
00:03:25,519 --> 00:03:28,480
so

88
00:03:26,480 --> 00:03:31,519
i just write calculating

89
00:03:28,480 --> 00:03:33,680
tile base like this but uh you know

90
00:03:31,519 --> 00:03:37,599
if you want you can type

91
00:03:33,680 --> 00:03:40,319
number here like this this is also fine

92
00:03:37,599 --> 00:03:44,080
so with these parameters

93
00:03:40,319 --> 00:03:47,360
we create a kind of a mini window or sub

94
00:03:44,080 --> 00:03:50,720
window and i think we gonna do it in a

95
00:03:47,360 --> 00:03:54,480
separated method since we will likely

96
00:03:50,720 --> 00:03:56,319
create this kind of window a lot so

97
00:03:54,480 --> 00:03:58,400
like

98
00:03:56,319 --> 00:04:00,159
public void

99
00:03:58,400 --> 00:04:03,920
draw

100
00:04:00,159 --> 00:04:05,680
a sub window or something

101
00:04:03,920 --> 00:04:07,120
and this method

102
00:04:05,680 --> 00:04:08,720
receive

103
00:04:07,120 --> 00:04:10,799
x

104
00:04:08,720 --> 00:04:12,239
y

105
00:04:10,799 --> 00:04:14,400
with

106
00:04:12,239 --> 00:04:16,720
and

107
00:04:14,400 --> 00:04:16,720
height

108
00:04:17,919 --> 00:04:22,479
so yeah basically we're gonna pass

109
00:04:20,799 --> 00:04:25,520
everything

110
00:04:22,479 --> 00:04:25,520
to this method

111
00:04:27,280 --> 00:04:31,919
x y

112
00:04:30,080 --> 00:04:34,320
with

113
00:04:31,919 --> 00:04:34,320
height

114
00:04:36,960 --> 00:04:41,199
okay

115
00:04:38,000 --> 00:04:42,400
first we set the color of this sub

116
00:04:41,199 --> 00:04:44,800
window

117
00:04:42,400 --> 00:04:47,680
and i choose block

118
00:04:44,800 --> 00:04:47,680
but this time

119
00:04:48,960 --> 00:04:53,840
so usually we type like this

120
00:04:52,639 --> 00:04:56,560
right

121
00:04:53,840 --> 00:05:00,240
but this time we don't use this

122
00:04:56,560 --> 00:05:01,039
default java color but instead we create

123
00:05:00,240 --> 00:05:05,199
a

124
00:05:01,039 --> 00:05:06,880
new color by typing rgb numbers

125
00:05:05,199 --> 00:05:07,919
so like this

126
00:05:06,880 --> 00:05:08,720
color

127
00:05:07,919 --> 00:05:10,639
she

128
00:05:08,720 --> 00:05:12,320
equal new

129
00:05:10,639 --> 00:05:13,280
color

130
00:05:12,320 --> 00:05:15,919
and

131
00:05:13,280 --> 00:05:16,960
so since it's a black color so 0

132
00:05:15,919 --> 00:05:18,880
0

133
00:05:16,960 --> 00:05:21,199
0

134
00:05:18,880 --> 00:05:22,160
and we're gonna set this

135
00:05:21,199 --> 00:05:24,720
c

136
00:05:22,160 --> 00:05:28,400
on this graphics 2d

137
00:05:24,720 --> 00:05:29,759
okay and now with this color we draw a

138
00:05:28,400 --> 00:05:31,840
rectangle

139
00:05:29,759 --> 00:05:33,759
right g2

140
00:05:31,840 --> 00:05:34,880
fill

141
00:05:33,759 --> 00:05:37,199
round

142
00:05:34,880 --> 00:05:39,919
left

143
00:05:37,199 --> 00:05:41,520
so this time we use this

144
00:05:39,919 --> 00:05:44,639
round direct

145
00:05:41,520 --> 00:05:47,600
and when you draw this round rectangle

146
00:05:44,639 --> 00:05:49,039
the graphics 2d asks you to fill these

147
00:05:47,600 --> 00:05:53,360
parameters

148
00:05:49,039 --> 00:05:54,240
so x y with height the usual stuff and

149
00:05:53,360 --> 00:05:56,960
also

150
00:05:54,240 --> 00:05:58,880
aqueous and arc height

151
00:05:56,960 --> 00:06:02,479
so we can you know

152
00:05:58,880 --> 00:06:03,759
change the roundness of this round

153
00:06:02,479 --> 00:06:06,880
rectangle

154
00:06:03,759 --> 00:06:10,160
and this time i'm gonna type

155
00:06:06,880 --> 00:06:13,840
35 and the solidify but you can adjust

156
00:06:10,160 --> 00:06:16,400
you know these numbers as you like

157
00:06:13,840 --> 00:06:17,840
all right and now go to this player

158
00:06:16,400 --> 00:06:19,600
class

159
00:06:17,840 --> 00:06:23,039
and

160
00:06:19,600 --> 00:06:23,039
inside of this

161
00:06:25,919 --> 00:06:31,680
interrupt npc

162
00:06:28,240 --> 00:06:31,680
we don't use this anymore

163
00:06:31,840 --> 00:06:36,000
so if the index is not

164
00:06:34,560 --> 00:06:40,000
999

165
00:06:36,000 --> 00:06:40,800
that means player is touching on any pc

166
00:06:40,000 --> 00:06:43,280
so

167
00:06:40,800 --> 00:06:46,880
we can change the game state here

168
00:06:43,280 --> 00:06:50,639
gp dot game state

169
00:06:46,880 --> 00:06:53,039
equal gp dot dialog state

170
00:06:50,639 --> 00:06:54,400
so with this

171
00:06:53,039 --> 00:06:59,280
when the

172
00:06:54,400 --> 00:06:59,280
when the program draws this ui stuff

173
00:06:59,360 --> 00:07:04,000
it calls this draw dialogue screen

174
00:07:02,000 --> 00:07:07,199
method

175
00:07:04,000 --> 00:07:07,199
okay let's check this

176
00:07:09,280 --> 00:07:13,039
yeah

177
00:07:10,560 --> 00:07:15,599
so i think

178
00:07:13,039 --> 00:07:17,440
i want to reduce the height a little bit

179
00:07:15,599 --> 00:07:18,639
because

180
00:07:17,440 --> 00:07:19,919
you know

181
00:07:18,639 --> 00:07:20,880
so

182
00:07:19,919 --> 00:07:24,319
yeah

183
00:07:20,880 --> 00:07:27,120
so when the npc is above you then uh

184
00:07:24,319 --> 00:07:29,360
this box basically hides him so this is

185
00:07:27,120 --> 00:07:32,080
not so good so uh

186
00:07:29,360 --> 00:07:34,560
i'm gonna reduce the

187
00:07:32,080 --> 00:07:35,520
height of this sub window

188
00:07:34,560 --> 00:07:38,240
to

189
00:07:35,520 --> 00:07:38,240
four tiles

190
00:07:38,880 --> 00:07:43,360
yep this is better

191
00:07:41,280 --> 00:07:45,440
so when you touch on any pc this sub

192
00:07:43,360 --> 00:07:47,599
window shows up

193
00:07:45,440 --> 00:07:48,639
but i think this

194
00:07:47,599 --> 00:07:51,759
window

195
00:07:48,639 --> 00:07:54,400
still looks kind of too generic

196
00:07:51,759 --> 00:07:55,919
you know i think it would look better if

197
00:07:54,400 --> 00:07:58,879
it had a

198
00:07:55,919 --> 00:08:00,160
white frame around it

199
00:07:58,879 --> 00:08:02,639
so

200
00:08:00,160 --> 00:08:04,720
yeah let's go back to this draw

201
00:08:02,639 --> 00:08:06,479
subwindow method

202
00:08:04,720 --> 00:08:07,520
and this time

203
00:08:06,479 --> 00:08:09,520
we set

204
00:08:07,520 --> 00:08:12,400
white color

205
00:08:09,520 --> 00:08:13,599
she called new

206
00:08:12,400 --> 00:08:15,840
color

207
00:08:13,599 --> 00:08:17,560
and white is to

208
00:08:15,840 --> 00:08:20,800
255

209
00:08:17,560 --> 00:08:26,479
255 and 255

210
00:08:20,800 --> 00:08:30,319
this is the rgb number for white

211
00:08:26,479 --> 00:08:32,159
and then so to draw the frame

212
00:08:30,319 --> 00:08:34,159
we set the

213
00:08:32,159 --> 00:08:36,880
stroke

214
00:08:34,159 --> 00:08:39,440
stroke and then

215
00:08:36,880 --> 00:08:40,880
new basic

216
00:08:39,440 --> 00:08:43,120
basic

217
00:08:40,880 --> 00:08:45,600
stroke

218
00:08:43,120 --> 00:08:49,360
and here we type the

219
00:08:45,600 --> 00:08:49,360
width of this stroke

220
00:08:49,920 --> 00:08:54,720
and i choose 5 pixels

221
00:08:52,399 --> 00:08:58,000
and with this we draw

222
00:08:54,720 --> 00:08:59,680
another round rectangle

223
00:08:58,000 --> 00:09:02,480
to do that

224
00:08:59,680 --> 00:09:02,480
but this time

225
00:09:04,880 --> 00:09:10,959
so not feel round wrecked but just

226
00:09:08,480 --> 00:09:13,600
draw round left

227
00:09:10,959 --> 00:09:14,560
and the parameter is

228
00:09:13,600 --> 00:09:16,800
x

229
00:09:14,560 --> 00:09:18,560
plus five

230
00:09:16,800 --> 00:09:20,640
y plus five

231
00:09:18,560 --> 00:09:22,640
and which is

232
00:09:20,640 --> 00:09:24,240
minus 10

233
00:09:22,640 --> 00:09:26,959
height is also

234
00:09:24,240 --> 00:09:30,720
minus 10 and the arc

235
00:09:26,959 --> 00:09:33,839
is like 25 25

236
00:09:30,720 --> 00:09:33,839
okay let's check

237
00:09:35,200 --> 00:09:38,320
oops

238
00:09:36,640 --> 00:09:40,880
why

239
00:09:38,320 --> 00:09:42,000
oh yeah of course i forgot to set the

240
00:09:40,880 --> 00:09:45,000
color

241
00:09:42,000 --> 00:09:45,000
g2.set

242
00:09:47,519 --> 00:09:50,680
all right

243
00:09:51,120 --> 00:09:54,640
yeah

244
00:09:52,800 --> 00:09:56,480
i like this better

245
00:09:54,640 --> 00:09:59,200
so this looks fine

246
00:09:56,480 --> 00:10:01,279
but we can add a little more touch to

247
00:09:59,200 --> 00:10:04,959
make this even cooler

248
00:10:01,279 --> 00:10:07,680
so when we set this rgb numbers we can

249
00:10:04,959 --> 00:10:10,240
actually add one more number

250
00:10:07,680 --> 00:10:10,240
like this

251
00:10:11,760 --> 00:10:16,399
so this

252
00:10:12,880 --> 00:10:20,000
fourth number is called alpha value so

253
00:10:16,399 --> 00:10:21,920
basically it indicates its transparency

254
00:10:20,000 --> 00:10:24,800
or opacity level

255
00:10:21,920 --> 00:10:28,160
so if it's 255

256
00:10:24,800 --> 00:10:31,640
there's no transparency i'll show you

257
00:10:28,160 --> 00:10:31,640
with some examples

258
00:10:32,560 --> 00:10:38,560
yeah so with 255 there is no difference

259
00:10:36,480 --> 00:10:41,200
but if it's

260
00:10:38,560 --> 00:10:41,200
200

261
00:10:43,040 --> 00:10:48,079
so you see the difference

262
00:10:44,959 --> 00:10:50,079
so we can see the background

263
00:10:48,079 --> 00:10:52,320
and if it's like

264
00:10:50,079 --> 00:10:55,440
100

265
00:10:52,320 --> 00:10:58,640
so the transparency increases

266
00:10:55,440 --> 00:10:58,640
and if it's zero

267
00:10:59,120 --> 00:11:06,560
nothing it's completely transparent

268
00:11:02,800 --> 00:11:08,720
so by adjusting this alpha value

269
00:11:06,560 --> 00:11:09,920
you can change the object's opacity

270
00:11:08,720 --> 00:11:14,320
level

271
00:11:09,920 --> 00:11:17,600
so for this black rectangle i set

272
00:11:14,320 --> 00:11:17,600
like 210

273
00:11:18,000 --> 00:11:23,040
yeah so

274
00:11:19,760 --> 00:11:25,920
you can somehow see the background

275
00:11:23,040 --> 00:11:29,760
but the window is still kind of dark so

276
00:11:25,920 --> 00:11:33,200
it's good for displaying text on it

277
00:11:29,760 --> 00:11:36,160
now let's display some text

278
00:11:33,200 --> 00:11:37,360
okay inside of this ui class first we

279
00:11:36,160 --> 00:11:39,200
create a

280
00:11:37,360 --> 00:11:40,839
string

281
00:11:39,200 --> 00:11:42,720
public

282
00:11:40,839 --> 00:11:44,720
string

283
00:11:42,720 --> 00:11:45,839
current

284
00:11:44,720 --> 00:11:48,240
dial

285
00:11:45,839 --> 00:11:48,240
block

286
00:11:49,040 --> 00:11:55,040
okay then inside of uh

287
00:11:53,200 --> 00:11:57,680
entity

288
00:11:55,040 --> 00:11:59,600
create a string alley

289
00:11:57,680 --> 00:12:02,600
string

290
00:11:59,600 --> 00:12:02,600
dialogues

291
00:12:02,800 --> 00:12:09,200
call new string

292
00:12:06,320 --> 00:12:10,560
size is like 20

293
00:12:09,200 --> 00:12:13,440
okay then

294
00:12:10,560 --> 00:12:16,079
go to this old main graph

295
00:12:13,440 --> 00:12:17,839
and we create a method

296
00:12:16,079 --> 00:12:19,760
public void

297
00:12:17,839 --> 00:12:22,760
and set

298
00:12:19,760 --> 00:12:22,760
dialog

299
00:12:33,120 --> 00:12:37,920
yes

300
00:12:34,240 --> 00:12:39,760
and here we can store some dialogue text

301
00:12:37,920 --> 00:12:42,560
for this character

302
00:12:39,760 --> 00:12:45,760
so for example like

303
00:12:42,560 --> 00:12:45,760
hello lot

304
00:12:46,000 --> 00:12:49,760
so

305
00:12:47,120 --> 00:12:50,959
each character can have this dialog

306
00:12:49,760 --> 00:12:53,760
array

307
00:12:50,959 --> 00:12:57,120
and you can put text in it i set the

308
00:12:53,760 --> 00:12:59,760
length of this alley 20 but if you want

309
00:12:57,120 --> 00:13:01,360
to add more dialogues you can change the

310
00:12:59,760 --> 00:13:04,480
ranks and

311
00:13:01,360 --> 00:13:08,160
you can also replace the text

312
00:13:04,480 --> 00:13:08,959
inside of this array along the gameplay

313
00:13:08,160 --> 00:13:12,000
then

314
00:13:08,959 --> 00:13:15,279
we call this method

315
00:13:12,000 --> 00:13:15,279
from this constructor

316
00:13:15,680 --> 00:13:19,200
then we create another method

317
00:13:18,240 --> 00:13:22,079
so

318
00:13:19,200 --> 00:13:23,440
somewhere around here

319
00:13:22,079 --> 00:13:24,880
public

320
00:13:23,440 --> 00:13:28,639
void

321
00:13:24,880 --> 00:13:28,639
i'm gonna name this speak

322
00:13:29,680 --> 00:13:35,839
we create this speak method both in the

323
00:13:32,880 --> 00:13:38,800
subclass and also in this entity

324
00:13:35,839 --> 00:13:38,800
superclass 2

325
00:13:38,880 --> 00:13:41,279
speak

326
00:13:42,160 --> 00:13:49,440
ok now go to the player class

327
00:13:45,519 --> 00:13:50,880
and we call that speak method so

328
00:13:49,440 --> 00:13:53,279
gp dot

329
00:13:50,880 --> 00:13:55,120
npc

330
00:13:53,279 --> 00:13:58,160
index i

331
00:13:55,120 --> 00:13:58,160
dot speak

332
00:13:59,279 --> 00:14:04,800
all right and okay return to this old

333
00:14:03,199 --> 00:14:07,600
man

334
00:14:04,800 --> 00:14:10,240
gp dot ui

335
00:14:07,600 --> 00:14:12,320
dot current dialog

336
00:14:10,240 --> 00:14:14,959
equal

337
00:14:12,320 --> 00:14:14,959
dialog

338
00:14:15,600 --> 00:14:22,000
zero for now

339
00:14:18,320 --> 00:14:24,880
so we get a text from this alley

340
00:14:22,000 --> 00:14:27,519
and pass it to this current dialog

341
00:14:24,880 --> 00:14:31,040
string in this ui class

342
00:14:27,519 --> 00:14:34,079
so now we can display this text

343
00:14:31,040 --> 00:14:37,519
in this ui class

344
00:14:34,079 --> 00:14:40,560
okay so inside of this

345
00:14:37,519 --> 00:14:43,600
this draw dialog screen

346
00:14:40,560 --> 00:14:45,199
first we decide where to display the

347
00:14:43,600 --> 00:14:48,320
text

348
00:14:45,199 --> 00:14:52,000
so the text should be inside of this sub

349
00:14:48,320 --> 00:14:52,000
window so like

350
00:14:52,480 --> 00:14:59,519
plus gp dot tile size so we just

351
00:14:57,279 --> 00:15:01,600
oops

352
00:14:59,519 --> 00:15:04,079
gp dot tile

353
00:15:01,600 --> 00:15:04,079
size

354
00:15:04,240 --> 00:15:06,959
and y

355
00:15:05,839 --> 00:15:10,880
plus

356
00:15:06,959 --> 00:15:10,880
gp dot tile size

357
00:15:11,360 --> 00:15:16,160
then we draw the text

358
00:15:14,000 --> 00:15:17,199
so g2 dot

359
00:15:16,160 --> 00:15:18,959
draw

360
00:15:17,199 --> 00:15:21,040
string

361
00:15:18,959 --> 00:15:23,199
and the current

362
00:15:21,040 --> 00:15:25,120
dialog

363
00:15:23,199 --> 00:15:28,240
and x and y

364
00:15:25,120 --> 00:15:28,240
yeah let's check

365
00:15:31,040 --> 00:15:35,360
okay

366
00:15:32,000 --> 00:15:39,320
the font is a bit large i think so

367
00:15:35,360 --> 00:15:39,320
let's change the size

368
00:15:40,320 --> 00:15:43,199
dot

369
00:15:41,519 --> 00:15:45,040
get font

370
00:15:43,199 --> 00:15:48,720
the live font

371
00:15:45,040 --> 00:15:48,720
font dot playing

372
00:15:48,880 --> 00:15:53,680
so right now it's

373
00:15:50,800 --> 00:15:55,440
40 i think

374
00:15:53,680 --> 00:15:58,000
yeah so

375
00:15:55,440 --> 00:15:58,000
sorry to

376
00:15:59,759 --> 00:16:04,480
yep looks better

377
00:16:01,920 --> 00:16:07,720
then now let's add more dialogues to

378
00:16:04,480 --> 00:16:07,720
this npc

379
00:16:08,480 --> 00:16:11,519
one two three

380
00:16:10,639 --> 00:16:12,480
one

381
00:16:11,519 --> 00:16:14,160
two

382
00:16:12,480 --> 00:16:17,360
three

383
00:16:14,160 --> 00:16:19,920
and okay so the second one is

384
00:16:17,360 --> 00:16:21,360
so you

385
00:16:19,920 --> 00:16:22,720
come to

386
00:16:21,360 --> 00:16:24,880
this

387
00:16:22,720 --> 00:16:26,399
island

388
00:16:24,880 --> 00:16:30,120
to

389
00:16:26,399 --> 00:16:30,120
find the treasure

390
00:16:38,480 --> 00:16:44,399
or something yeah

391
00:16:40,880 --> 00:16:49,279
now we adjust our code a little bit so

392
00:16:44,399 --> 00:16:51,759
these texts can be displayed one by one

393
00:16:49,279 --> 00:16:55,600
in the entity class

394
00:16:51,759 --> 00:16:57,920
first we create an integer

395
00:16:55,600 --> 00:17:00,399
dialog

396
00:16:57,920 --> 00:17:00,399
index

397
00:17:01,120 --> 00:17:07,280
0

398
00:17:02,720 --> 00:17:10,720
and then in this old main class

399
00:17:07,280 --> 00:17:12,400
so we change this 0 to

400
00:17:10,720 --> 00:17:14,319
dialog

401
00:17:12,400 --> 00:17:16,799
index

402
00:17:14,319 --> 00:17:20,959
and after passing the dialog

403
00:17:16,799 --> 00:17:20,959
we increase this index

404
00:17:24,559 --> 00:17:27,679
so this way

405
00:17:25,839 --> 00:17:29,280
you know next time we call this speak

406
00:17:27,679 --> 00:17:31,120
method then

407
00:17:29,280 --> 00:17:32,960
this passes the

408
00:17:31,120 --> 00:17:35,679
next dialogue

409
00:17:32,960 --> 00:17:35,679
okay

410
00:17:35,919 --> 00:17:38,160
so

411
00:17:38,720 --> 00:17:41,679
oh and yeah

412
00:17:40,400 --> 00:17:43,440
we need to

413
00:17:41,679 --> 00:17:45,919
close the window

414
00:17:43,440 --> 00:17:47,679
right now it's not responding anything

415
00:17:45,919 --> 00:17:51,520
so

416
00:17:47,679 --> 00:17:52,799
okay so open kihenra

417
00:17:51,520 --> 00:17:56,559
okay

418
00:17:52,799 --> 00:17:59,360
i think first we better check the

419
00:17:56,559 --> 00:18:02,080
current game state

420
00:17:59,360 --> 00:18:04,080
if gp dot

421
00:18:02,080 --> 00:18:08,400
game state

422
00:18:04,080 --> 00:18:11,200
call gp dot play state

423
00:18:08,400 --> 00:18:14,760
then we can basically

424
00:18:11,200 --> 00:18:14,760
move everything

425
00:18:20,080 --> 00:18:22,559
so this is

426
00:18:21,440 --> 00:18:24,880
play

427
00:18:22,559 --> 00:18:27,280
state

428
00:18:24,880 --> 00:18:30,240
and okay so

429
00:18:27,280 --> 00:18:31,679
pause state

430
00:18:30,240 --> 00:18:33,440
and also

431
00:18:31,679 --> 00:18:35,679
dialog

432
00:18:33,440 --> 00:18:36,720
state

433
00:18:35,679 --> 00:18:38,000
here

434
00:18:36,720 --> 00:18:40,240
gp dot

435
00:18:38,000 --> 00:18:45,440
game state

436
00:18:40,240 --> 00:18:45,440
equal gp dot pod state

437
00:18:46,480 --> 00:18:51,840
if gp dot game state

438
00:18:50,080 --> 00:18:54,720
call gp dot

439
00:18:51,840 --> 00:18:54,720
dialog state

440
00:18:54,799 --> 00:19:01,840
so if game state is play state and if

441
00:18:58,080 --> 00:19:01,840
you press p then uh

442
00:19:01,919 --> 00:19:09,280
game state changes to this pause state

443
00:19:07,120 --> 00:19:14,240
let's delete this

444
00:19:09,280 --> 00:19:15,520
yeah and okay let's copy this and

445
00:19:14,240 --> 00:19:18,880
so if

446
00:19:15,520 --> 00:19:21,679
game state is pause state and uh

447
00:19:18,880 --> 00:19:25,200
if you press p then the game state will

448
00:19:21,679 --> 00:19:26,160
change back to play state yeah so now

449
00:19:25,200 --> 00:19:28,720
this

450
00:19:26,160 --> 00:19:31,679
direct state ah and also this should be

451
00:19:28,720 --> 00:19:31,679
earth i think

452
00:19:33,360 --> 00:19:37,760
so if we are in the dialogue state and

453
00:19:36,640 --> 00:19:39,440
if

454
00:19:37,760 --> 00:19:41,760
we press

455
00:19:39,440 --> 00:19:41,760
like

456
00:19:42,240 --> 00:19:46,240
enter key

457
00:19:44,160 --> 00:19:48,799
for example

458
00:19:46,240 --> 00:19:48,799
enter

459
00:19:49,200 --> 00:19:54,080
then

460
00:19:51,440 --> 00:19:55,520
we finish the dialogue state so

461
00:19:54,080 --> 00:19:56,880
gamestate

462
00:19:55,520 --> 00:19:59,880
equal

463
00:19:56,880 --> 00:19:59,880
gp.playstate

464
00:20:00,160 --> 00:20:03,520
not player

465
00:20:01,600 --> 00:20:04,559
state

466
00:20:03,520 --> 00:20:05,440
okay

467
00:20:04,559 --> 00:20:07,679
check

468
00:20:05,440 --> 00:20:10,720
all right

469
00:20:07,679 --> 00:20:14,559
and uh so press enter

470
00:20:10,720 --> 00:20:17,919
yeah and talk again

471
00:20:14,559 --> 00:20:20,960
so the second dialogue is displayed and

472
00:20:17,919 --> 00:20:23,200
the text is bleeding out of the frame

473
00:20:20,960 --> 00:20:24,880
but don't worry about it we'll fix it

474
00:20:23,200 --> 00:20:26,080
soon

475
00:20:24,880 --> 00:20:28,000
and on

476
00:20:26,080 --> 00:20:31,000
next text

477
00:20:28,000 --> 00:20:31,000
hmm

478
00:20:34,320 --> 00:20:39,039
uh

479
00:20:36,159 --> 00:20:40,880
yeah now we got uh null pointer

480
00:20:39,039 --> 00:20:43,600
exception error

481
00:20:40,880 --> 00:20:46,720
because there is no text

482
00:20:43,600 --> 00:20:48,559
in the array index 4 so let's take care

483
00:20:46,720 --> 00:20:51,360
of this first

484
00:20:48,559 --> 00:20:52,880
we had an if statement here

485
00:20:51,360 --> 00:20:55,520
if

486
00:20:52,880 --> 00:20:56,880
dialogues

487
00:20:55,520 --> 00:20:58,799
die

488
00:20:56,880 --> 00:21:00,880
log

489
00:20:58,799 --> 00:21:04,480
index

490
00:21:00,880 --> 00:21:04,480
equal null

491
00:21:05,200 --> 00:21:08,080
then

492
00:21:06,159 --> 00:21:09,440
dialog

493
00:21:08,080 --> 00:21:11,440
index

494
00:21:09,440 --> 00:21:15,360
equals zero

495
00:21:11,440 --> 00:21:18,320
so if there is no text we go back to

496
00:21:15,360 --> 00:21:18,320
index zero

497
00:21:20,880 --> 00:21:25,600
hello lot

498
00:21:22,880 --> 00:21:28,559
yeah just second text

499
00:21:25,600 --> 00:21:28,559
the third one

500
00:21:28,840 --> 00:21:32,799
force

501
00:21:30,400 --> 00:21:34,960
and the first one again

502
00:21:32,799 --> 00:21:36,000
so now error is gone

503
00:21:34,960 --> 00:21:38,640
but

504
00:21:36,000 --> 00:21:40,559
i think it would be better if

505
00:21:38,640 --> 00:21:43,600
the npc

506
00:21:40,559 --> 00:21:44,720
turns themselves to us when we talk to

507
00:21:43,600 --> 00:21:46,240
them

508
00:21:44,720 --> 00:21:48,880
yeah you know this is like we are

509
00:21:46,240 --> 00:21:50,320
talking to his back

510
00:21:48,880 --> 00:21:51,840
so

511
00:21:50,320 --> 00:21:53,840
inside of this

512
00:21:51,840 --> 00:21:55,760
speak method

513
00:21:53,840 --> 00:21:59,799
we create a

514
00:21:55,760 --> 00:21:59,799
switch or if statement

515
00:22:00,240 --> 00:22:04,080
and the condition is

516
00:22:02,720 --> 00:22:06,720
player's

517
00:22:04,080 --> 00:22:06,720
direction

518
00:22:07,840 --> 00:22:11,280
the case

519
00:22:09,120 --> 00:22:11,280
up

520
00:22:11,520 --> 00:22:18,640
so if players direction is up then uh

521
00:22:14,559 --> 00:22:21,960
we're gonna change this npc's direction

522
00:22:18,640 --> 00:22:21,960
to down

523
00:22:29,679 --> 00:22:32,000
left

524
00:22:33,679 --> 00:22:37,919
okay let's check

525
00:22:36,480 --> 00:22:41,280
right

526
00:22:37,919 --> 00:22:43,600
yeah hello let

527
00:22:41,280 --> 00:22:43,600
yup

528
00:22:48,159 --> 00:22:52,840
yup

529
00:22:49,120 --> 00:22:54,720
so this looks more natural i think

530
00:22:52,840 --> 00:22:57,840
and uh

531
00:22:54,720 --> 00:22:59,440
i want to add a little more touch

532
00:22:57,840 --> 00:23:02,880
or more like

533
00:22:59,440 --> 00:23:06,880
provide an option to you guys

534
00:23:02,880 --> 00:23:10,159
right now this dialog window opens up

535
00:23:06,880 --> 00:23:13,520
automatically when you hit the npc

536
00:23:10,159 --> 00:23:16,960
but maybe some of you guys want to open

537
00:23:13,520 --> 00:23:19,360
it only when you hit the key

538
00:23:16,960 --> 00:23:20,880
so i actually like that better

539
00:23:19,360 --> 00:23:24,720
so

540
00:23:20,880 --> 00:23:25,679
let's go to this key handler

541
00:23:24,720 --> 00:23:29,120
first

542
00:23:25,679 --> 00:23:30,320
we're gonna add another volume

543
00:23:29,120 --> 00:23:32,720
and tap

544
00:23:30,320 --> 00:23:34,400
rest

545
00:23:32,720 --> 00:23:38,400
and while

546
00:23:34,400 --> 00:23:38,400
we are in display state

547
00:23:38,640 --> 00:23:43,279
so we're gonna add this entire

548
00:23:42,159 --> 00:23:44,320
input

549
00:23:43,279 --> 00:23:46,640
so

550
00:23:44,320 --> 00:23:49,640
we can

551
00:23:46,640 --> 00:23:49,640
enter

552
00:23:50,720 --> 00:23:55,039
if we press enter then

553
00:23:53,840 --> 00:23:56,559
enter

554
00:23:55,039 --> 00:23:59,520
list

555
00:23:56,559 --> 00:23:59,520
equal true

556
00:23:59,919 --> 00:24:03,760
and go to

557
00:24:01,520 --> 00:24:05,520
the player class

558
00:24:03,760 --> 00:24:07,039
we check if

559
00:24:05,520 --> 00:24:08,320
gp.key

560
00:24:07,039 --> 00:24:12,960
h

561
00:24:08,320 --> 00:24:15,919
oh okay i think we need to

562
00:24:12,960 --> 00:24:21,279
change this to public

563
00:24:15,919 --> 00:24:22,799
and kh dot end top rest so if

564
00:24:21,279 --> 00:24:24,559
we check if

565
00:24:22,799 --> 00:24:27,360
enterprise is

566
00:24:24,559 --> 00:24:27,360
true or not

567
00:24:29,120 --> 00:24:35,279
okay so if it's true then

568
00:24:32,720 --> 00:24:35,279
we do this

569
00:24:36,400 --> 00:24:41,279
and make sure to set this files

570
00:24:44,320 --> 00:24:49,360
after checking this

571
00:24:46,559 --> 00:24:52,480
otherwise you know this will be

572
00:24:49,360 --> 00:24:52,480
true for good

573
00:24:52,559 --> 00:24:58,799
yeah let's check

574
00:24:55,760 --> 00:25:01,200
all right so now

575
00:24:58,799 --> 00:25:04,400
dialogue doesn't open up

576
00:25:01,200 --> 00:25:09,200
but if you press enter

577
00:25:04,400 --> 00:25:09,200
yeah so you can talk to this npc

578
00:25:09,679 --> 00:25:15,360
so the now window opens only

579
00:25:12,320 --> 00:25:17,919
when you press enter key while any pc

580
00:25:15,360 --> 00:25:21,039
collision is happening

581
00:25:17,919 --> 00:25:21,919
and finally it's time to take care of

582
00:25:21,039 --> 00:25:23,760
the

583
00:25:21,919 --> 00:25:26,840
line break

584
00:25:23,760 --> 00:25:30,159
so we want to break the line at some

585
00:25:26,840 --> 00:25:32,320
point so we're gonna insert

586
00:25:30,159 --> 00:25:34,159
backslash n

587
00:25:32,320 --> 00:25:36,320
boxer chain

588
00:25:34,159 --> 00:25:39,760
but this is not enough

589
00:25:36,320 --> 00:25:42,799
if we are displaying text on a component

590
00:25:39,760 --> 00:25:46,159
such as j text area or j label

591
00:25:42,799 --> 00:25:47,679
the line automatically breaks at this

592
00:25:46,159 --> 00:25:49,760
back search end

593
00:25:47,679 --> 00:25:52,799
but unfortunately

594
00:25:49,760 --> 00:25:56,799
the graphics to these draw method

595
00:25:52,799 --> 00:25:59,120
completely ignore these signs

596
00:25:56,799 --> 00:25:59,120
show you

597
00:26:00,080 --> 00:26:04,080
yeah like this so nothing changes

598
00:26:03,279 --> 00:26:06,720
so

599
00:26:04,080 --> 00:26:08,080
we need to do a little more adjustment

600
00:26:06,720 --> 00:26:11,440
okay so

601
00:26:08,080 --> 00:26:11,440
inside of this ui graph

602
00:26:12,080 --> 00:26:16,799
we type like this

603
00:26:14,559 --> 00:26:18,080
for

604
00:26:16,799 --> 00:26:20,480
string

605
00:26:18,080 --> 00:26:20,480
line

606
00:26:20,640 --> 00:26:22,799
current

607
00:26:21,679 --> 00:26:24,640
die

608
00:26:22,799 --> 00:26:25,679
log

609
00:26:24,640 --> 00:26:28,240
dot

610
00:26:25,679 --> 00:26:29,440
split

611
00:26:28,240 --> 00:26:32,559
and

612
00:26:29,440 --> 00:26:32,559
yeah box russian

613
00:26:33,440 --> 00:26:37,880
and okay let's copy

614
00:26:38,559 --> 00:26:44,159
instead of this current dialogue

615
00:26:41,360 --> 00:26:44,159
type lime

616
00:26:44,240 --> 00:26:49,440
and after that we

617
00:26:47,120 --> 00:26:51,520
increases this y

618
00:26:49,440 --> 00:26:52,480
like 40

619
00:26:51,520 --> 00:26:55,840
so

620
00:26:52,480 --> 00:26:59,600
what we are doing here is we split the

621
00:26:55,840 --> 00:27:01,600
text that is inside of this dialog

622
00:26:59,600 --> 00:27:03,840
at this keyword

623
00:27:01,600 --> 00:27:05,200
and get it as this

624
00:27:03,840 --> 00:27:08,240
line

625
00:27:05,200 --> 00:27:10,000
so basically you can use any symbol

626
00:27:08,240 --> 00:27:12,559
the line breaks up

627
00:27:10,000 --> 00:27:14,720
whatever you typed between these double

628
00:27:12,559 --> 00:27:17,760
quotations

629
00:27:14,720 --> 00:27:20,559
and after displaying a line

630
00:27:17,760 --> 00:27:23,840
we increase the y

631
00:27:20,559 --> 00:27:26,559
so the next line will be displayed below

632
00:27:23,840 --> 00:27:30,159
the first line

633
00:27:26,559 --> 00:27:30,159
yeah so let's check

634
00:27:31,120 --> 00:27:35,279
hello that

635
00:27:33,440 --> 00:27:38,000
yeah so you've come to this island to

636
00:27:35,279 --> 00:27:39,840
find the treasure

637
00:27:38,000 --> 00:27:42,720
um okay

638
00:27:39,840 --> 00:27:46,320
maybe font is still a bit too large

639
00:27:42,720 --> 00:27:48,799
okay i think i'm gonna decrease the size

640
00:27:46,320 --> 00:27:51,440
size a little bit

641
00:27:48,799 --> 00:27:51,440
28

642
00:27:57,760 --> 00:28:03,440
looks better much better

643
00:28:00,080 --> 00:28:06,960
so now the text is divided into multiple

644
00:28:03,440 --> 00:28:10,880
lines and displayed nicely

645
00:28:06,960 --> 00:28:10,880
let's go back to this old main class

646
00:28:11,200 --> 00:28:16,399
and maybe you have noticed but

647
00:28:14,480 --> 00:28:20,320
you know these lines

648
00:28:16,399 --> 00:28:21,840
can be shared by other npcs too

649
00:28:20,320 --> 00:28:24,399
so actually

650
00:28:21,840 --> 00:28:25,600
we can move this

651
00:28:24,399 --> 00:28:29,399
to

652
00:28:25,600 --> 00:28:29,399
this entity class

653
00:28:31,520 --> 00:28:35,840
and

654
00:28:32,880 --> 00:28:39,279
we just call the method from here

655
00:28:35,840 --> 00:28:39,279
super dot speak

656
00:28:40,000 --> 00:28:42,960
then you know

657
00:28:43,120 --> 00:28:47,600
it works

658
00:28:44,399 --> 00:28:50,000
exactly like before

659
00:28:47,600 --> 00:28:53,279
so we don't need to type this every time

660
00:28:50,000 --> 00:28:54,159
we create a new character

661
00:28:53,279 --> 00:28:56,640
then

662
00:28:54,159 --> 00:29:00,320
maybe you think then what's the point of

663
00:28:56,640 --> 00:29:01,840
creating this speak method here in in

664
00:29:00,320 --> 00:29:04,399
its subclass

665
00:29:01,840 --> 00:29:06,080
yeah so the program works without

666
00:29:04,399 --> 00:29:06,880
without these

667
00:29:06,080 --> 00:29:09,360
but

668
00:29:06,880 --> 00:29:12,799
i created this because

669
00:29:09,360 --> 00:29:15,039
maybe we want to add some character

670
00:29:12,799 --> 00:29:17,840
specific stuff later

671
00:29:15,039 --> 00:29:20,320
for example if you have some kind of a

672
00:29:17,840 --> 00:29:22,480
special item then uh

673
00:29:20,320 --> 00:29:24,720
he speaks something different

674
00:29:22,480 --> 00:29:25,520
or yeah like that

675
00:29:24,720 --> 00:29:28,399
so

676
00:29:25,520 --> 00:29:32,159
leaving this method here makes such you

677
00:29:28,399 --> 00:29:33,640
know customization easier yeah

678
00:29:32,159 --> 00:29:36,960
do this

679
00:29:33,640 --> 00:29:39,200
character specific

680
00:29:36,960 --> 00:29:41,039
stuff

681
00:29:39,200 --> 00:29:44,640
all right so

682
00:29:41,039 --> 00:29:46,240
this is the basic system for displaying

683
00:29:44,640 --> 00:29:49,440
dialogues

684
00:29:46,240 --> 00:29:52,720
and now let's talk about the

685
00:29:49,440 --> 00:30:02,559
font in this game

686
00:29:52,720 --> 00:30:04,640
[Music]

687
00:30:02,559 --> 00:30:04,640
you

